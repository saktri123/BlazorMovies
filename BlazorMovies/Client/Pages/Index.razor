@page "/"
@using static BlazorMovies.Client.Shared.MainLayout;
@inject IRepository repository;

<h2><u>Movies-</u></h2>
<MovieList Movies="@movies">
</MovieList>
<CustomTypeahead SearchMethod="SearchMethod" Placeholder="Search here.." >
    <ResultTemplate>
        @context
    </ResultTemplate>
</CustomTypeahead>
@code{

    List<Movie> movies;
    protected override void OnInitialized()
    {
        movies = repository.GetMovies();
    }

    private async Task<IEnumerable<string>> SearchMethod(string searchText)
    {
        if (searchText == "test")
        {
            return Enumerable.Empty<string>();
        }
        else
        {
            return new List<string> { "Tom Holand", "Tom Hanks" };

        }
    }
}



